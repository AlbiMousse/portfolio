import { Controller } from "@hotwired/stimulus"

export default class extends Controller {

  connect() {
    this.lines = Array.from(this.element.querySelectorAll("[data-morph-line]"))
    this.interpolators = []
    this.lastKey = null

    this.maxLines = this.getMaxLineCount()

    this.element.addEventListener("scroll-morph", this.morph.bind(this))
  }

  getMaxLineCount() {
    const sections = ["about", "whoami", "experience", "projects", "technology", "contact"]
    return Math.max(
      ...sections.map(section => {
        const data = this.getSectionLineArray(section)
        return data ? data.length : 0
      })
    )
  }


  extractNumbers(pathStr) {
    if (!pathStr || typeof pathStr !== 'string') return []
    const nums = pathStr.match(/[-+]?[0-9]*\.?[0-9]+(?:e[-+]?[0-9]+)?/gi) || []
    return nums.map(n => parseFloat(n))
  }

  rebuildPath(numbers, template) {
    let idx = 0
    return template.replace(/([-+]?[0-9]*\.?[0-9]+(?:e[-+]?[0-9]+)?)/gi, () => {
      const val = numbers[idx++]
      return (Math.round((val || 0) * 10) / 10).toString()
    })
  }

  normalizeTemplate(fromNumbers, toNumbers, templateStr) {
    const maxLen = Math.max(fromNumbers.length, toNumbers.length)
    let numsInTemplate = this.extractNumbers(templateStr).length
    if (numsInTemplate < maxLen) {
      let pad = Array(maxLen - numsInTemplate).fill(0).join(" ")
      return templateStr + " " + pad
    }
    return templateStr
  }

  morph(event) {
    const { fromSection, toSection, progress } = event.detail

    const fromPaths = this.getSectionPaths(fromSection)
    const toPaths = this.getSectionPaths(toSection)

    if (!fromPaths || !toPaths) return

    const morphKey = `${fromSection}-${toSection}`

    if (this.lastKey !== morphKey) {
      this.interpolators = this.lines.map((_, i) => {
      const fromObj = fromPaths[i]
      const toObj = toPaths[i]

      const from = fromObj.d
      const to = toObj.d

      const fromNumbers = this.extractNumbers(from)
      const toNumbers = this.extractNumbers(to)

      const fromOpacity = fromObj.opacity
      const toOpacity = toObj.opacity

      return (p) => {
        const template = this.normalizeTemplate(fromNumbers, toNumbers, to)
        const maxLen = Math.max(fromNumbers.length, toNumbers.length)
        const currentNumbers = Array.from({ length: maxLen }, (_, i) => {
          const start =
            fromNumbers[i] !== undefined
              ? fromNumbers[i]
              : fromNumbers[fromNumbers.length - 1]

          const end =
            toNumbers[i] !== undefined
              ? toNumbers[i]
              : toNumbers[toNumbers.length - 1]

          return start + (end - start) * p
        })

        return {
          d: this.rebuildPath(currentNumbers, template),
          opacity: fromOpacity + (toOpacity - fromOpacity) * p
        }
      }
    })

    }

    this.lines.forEach((line, i) => {
      const result = this.interpolators[i](progress)

      line.setAttribute("d", result.d)
      line.setAttribute("opacity", result.opacity)
    })
  }

  getSectionPaths(sectionId) {
    const rawPaths = this.getSectionLineArray(sectionId)
    return rawPaths.map(d => ({ d, opacity: 1 }))
  }

// Hahaha, i can already picture what you're thinking
// "OMG, what kinda psychopath would hardcode all these SVG paths in a JS file??"
// Well it's easy, the answer is : first, i have free will, so i can willingly
// torture myself, and second, i'm a developer! So i hate torturing myself
// That's why i got a python script that i can feed black and white images
// and it extracts the contrast automatically into an SVG array.
// Technology is wonderful, isn't it? I sure hope if you wanna do the same
// you have a similar python script, right? Hehe.. right? 

getSectionLineArray(sectionId) {
  const lineData = {
    about: [
      "M 1198.0 1002.0 L 792.2 1002.0 L 783.3 971.6 L 780.4 878.4 L 774.5 911.8 L 767.6 901.0 L 777.5 871.6 L 767.6 804.9 L 743.1 772.5 L 668.6 758.8 L 646.1 740.2 L 632.4 706.9 L 646.1 689.2 L 646.1 665.7 L 635.3 658.8 L 624.5 671.6 L 625.5 707.8 L 612.7 667.6 L 644.1 652.0 L 642.2 616.7 L 624.5 604.9 L 623.5 594.1 L 598.0 586.3 L 549.0 594.1 L 526.5 606.9 L 522.5 653.9 L 528.4 659.8 L 520.6 691.2 L 561.8 759.8 L 549.0 778.4 L 517.6 788.2 L 508.8 799.0 L 469.6 899.0 L 448.0 926.5 L 449.0 933.3 L 476.5 939.2 L 517.6 962.7 L 562.7 960.8 L 576.5 994.1 L 517.6 994.1 L 490.2 974.5 L 465.7 979.4 L 492.2 958.8 L 449.0 980.4 L 442.2 977.5 L 478.4 947.1 L 431.4 974.5 L 432.4 963.7 L 461.8 940.2 L 437.3 939.2 L 418.6 950.0 L 389.2 842.2 L 376.5 829.4 L 360.8 829.4 L 222.5 848.0 L 268.6 1002.0 L 0.0 1002.0",
      "M 531.4 960.8 L 519.6 960.8 L 516.7 953.9 L 517.6 864.7 L 510.8 877.5 L 511.8 956.9 L 450.0 930.4 L 471.6 901.0 L 501.0 818.6 L 519.6 790.2 L 546.1 783.3 L 535.3 813.7 L 556.9 796.1 L 569.6 801.0 L 568.6 870.6 L 603.9 786.3 L 647.1 803.9 L 668.6 760.8 L 725.5 768.6 L 752.0 781.4 L 765.7 806.9 L 775.5 852.0 L 765.7 885.3 L 770.6 917.6 L 702.9 918.6 L 746.1 901.0 L 713.7 898.0 L 701.0 883.3 L 700.0 813.7 L 689.2 832.4 L 689.2 855.9 L 699.0 881.4 L 695.1 928.4 L 703.9 939.2 L 654.9 939.2 L 531.4 960.8",
      "M 0.0 1003.9 L 547.1 1009.8 L 552.9 994.1 L 578.4 996.1 L 580.4 984.3 L 581.4 997.1 L 600.0 1005.9 L 752.9 1007.8 L 771.6 999.0 L 780.4 970.6 L 790.2 1003.9 L 1198.0 1003.9",
      "M 743.1 1005.9 L 592.2 1002.0 L 563.7 955.9 L 658.8 941.2 L 703.9 941.2 L 754.9 954.9 L 757.8 946.1 L 749.0 937.3 L 699.0 932.4 L 702.0 888.2 L 715.7 902.0 L 742.2 902.9 L 705.9 909.8 L 703.9 923.5 L 777.5 918.6 L 773.5 989.2 L 766.7 1002.0 L 743.1 1005.9",
      "M 570.6 864.7 L 571.6 799.0 L 560.8 792.2 L 539.2 807.8 L 538.2 802.9 L 548.0 783.3 L 567.6 771.6 L 569.6 759.8 L 594.1 752.9 L 625.5 715.7 L 642.2 742.2 L 608.8 779.4 L 619.6 778.4 L 647.1 745.1 L 665.7 759.8 L 661.8 771.6 L 647.1 800.0 L 611.8 784.3 L 599.0 789.2 L 570.6 864.7",
      "M 431.4 1002.0 L 272.5 1002.0 L 226.5 848.0 L 380.4 833.3 L 431.4 1002.0",
      "M 543.1 1007.8 L 273.5 1004.9 L 551.0 998.0 L 543.1 1007.8",
      "M 578.4 756.9 L 552.0 748.0 L 534.3 706.9 L 550.0 702.9 L 552.9 684.3 L 566.7 703.9 L 588.2 703.9 L 591.2 685.3 L 611.8 668.6 L 624.5 710.8 L 608.8 736.3 L 578.4 756.9",
      "M 551.0 631.4 L 526.5 616.7 L 543.1 598.0 L 572.5 596.1 L 598.0 605.9 L 598.0 596.1 L 573.5 591.2 L 607.8 590.2 L 624.5 599.0 L 602.0 623.5 L 596.1 617.6 L 562.7 621.6 L 551.0 613.7 L 559.8 624.5 L 551.0 631.4",
      "M 590.2 680.4 L 576.5 674.5 L 531.4 678.4 L 532.4 636.3 L 560.8 639.2 L 582.4 625.5 L 598.0 625.5 L 602.9 667.6 L 590.2 680.4",
      "M 613.7 662.7 L 606.9 632.4 L 621.6 621.6 L 631.4 643.1 L 634.3 628.4 L 624.5 608.8 L 633.3 607.8 L 642.2 650.0 L 613.7 662.7",
      "M 502.0 996.1 L 439.2 996.1 L 432.4 977.5 L 451.0 982.4 L 462.7 974.5 L 474.5 982.4 L 488.2 976.5 L 506.9 993.1 L 502.0 996.1",
      "M 698.0 874.5 L 691.2 836.3 L 700.0 817.6 L 698.0 874.5",
      "M 782.4 941.2 L 778.4 884.3 L 782.4 941.2",
      "M 752.9 952.9 L 706.9 940.2 L 741.2 937.3 L 753.9 944.1 L 752.9 952.9",
      "M 633.3 703.9 L 626.5 673.5 L 639.2 660.8 L 644.1 685.3 L 633.3 703.9",
      "M 580.4 703.9 L 564.7 700.0 L 555.9 681.4 L 582.4 678.4 L 591.2 695.1 L 580.4 703.9",
      "M 429.4 964.7 L 423.5 947.1 L 457.8 940.2 L 429.4 964.7",
      "M 558.8 637.3 L 540.2 632.4 L 579.4 624.5 L 558.8 637.3",
      "M 607.8 666.7 L 601.0 655.9 L 605.9 623.5 L 607.8 666.7",
      "M 515.7 921.6 L 515.7 868.6 L 515.7 921.6",
      "M 613.7 778.4 L 637.3 751.0 L 613.7 778.4",
      "M 631.4 637.3 L 626.5 622.5 L 614.7 618.6 L 621.6 611.8 L 631.4 637.3",
      "M 545.1 703.9 L 534.3 702.9 L 531.4 680.4 L 550.0 683.3 L 545.1 703.9",
      "M 639.2 731.4 L 629.4 707.8 L 639.2 731.4",
      "M 531.4 702.0 L 525.5 680.4 L 531.4 702.0",
      "M 525.5 651.0 L 529.4 627.5 L 525.5 651.0",
      "M 554.9 776.5 L 566.7 760.8 L 554.9 776.5",
      "M 598.0 602.0 L 583.3 597.1 L 598.0 602.0",
      "M 598.0 623.5 L 581.4 622.5 L 598.0 623.5"
    ],
    whoami: [
      "M 632.4 905.9 L 686.3 897.1 L 723.5 879.4 L 802.0 814.7 L 884.3 855.9 L 978.4 875.5 L 1084.3 863.7 L 1177.5 823.5 L 1111.8 852.0 L 1045.1 869.6 L 962.7 871.6 L 919.6 863.7 L 852.9 840.2 L 809.8 814.7 L 815.7 802.9 L 831.4 802.9 L 838.2 794.1 L 807.8 799.0 L 796.1 793.1 L 703.9 718.6 L 651.0 697.1 L 594.1 691.2 L 545.1 699.0 L 496.1 718.6 L 432.4 774.5 L 441.2 775.5 L 458.8 753.9 L 547.1 714.7 L 613.7 708.8 L 647.1 716.7 L 594.1 716.7 L 564.7 726.5 L 536.3 751.0 L 520.6 782.4 L 518.6 819.6 L 538.2 860.8 L 580.4 889.2 L 607.8 895.1 L 664.7 883.3 L 697.1 843.1 L 704.9 786.3 L 695.1 756.9 L 674.5 728.4 L 709.8 744.1 L 801.0 811.8 L 711.8 883.3 L 647.1 902.9 L 598.0 902.9 L 533.3 885.3 L 480.4 855.9 L 411.8 802.9 L 386.3 804.9 L 282.4 861.8 L 225.5 873.5 L 129.4 871.6 L 20.6 849.0 L 139.2 875.5 L 233.3 875.5 L 296.1 859.8 L 388.2 806.9 L 407.8 804.9 L 517.6 881.4 L 580.4 902.9 L 632.4 905.9",
      "M 805.9 808.8 L 707.8 740.2 L 631.4 708.8 L 560.8 708.8 L 465.7 745.1 L 505.9 716.7 L 554.9 699.0 L 637.3 697.1 L 711.8 726.5 L 778.4 783.3 L 809.8 801.0 L 805.9 808.8",
      "M 637.3 891.2 L 578.4 885.3 L 551.0 869.6 L 526.5 837.3 L 520.6 796.1 L 528.4 768.6 L 554.9 736.3 L 580.4 722.5 L 631.4 718.6 L 660.8 724.5 L 697.1 768.6 L 702.9 809.8 L 695.1 841.2 L 670.6 875.5 L 637.3 891.2",
      "M 439.2 773.5 L 434.3 772.5 L 447.1 761.8 L 439.2 773.5",
      "M 829.4 801.0 L 820.6 800.0 L 836.3 796.1 L 829.4 801.0"
    ],
    experience: [
      "M 484.0 1036.7 L 661.3 997.4 L 812.8 997.4 L 837.7 976.4 L 860.7 974.4 L 840.6 939.0 L 844.4 896.8 L 867.4 856.5 L 917.3 804.8 L 923.0 785.6 L 858.8 704.2 L 921.1 770.3 L 932.6 791.4 L 930.7 912.1 L 921.1 931.3 L 871.2 975.4 L 902.9 984.0 L 991.1 984.0 L 1025.6 972.5 L 1047.6 992.7 L 843.5 989.8 L 827.2 998.4 L 831.9 1010.9 L 878.0 1020.4 L 994.9 1020.4 L 1037.1 1014.7 L 1054.3 997.4 L 1125.2 1014.7 L 1163.6 1012.8 L 1190.4 1001.3 L 1194.2 993.6 L 1163.6 1008.9 L 1123.3 1010.9 L 1052.4 993.6 L 1040.9 976.4 L 1026.5 969.6 L 1038.0 933.2 L 1030.4 891.1 L 959.4 799.0 L 961.3 774.1 L 1009.3 724.3 L 1032.3 685.9 L 1038.0 636.1 L 1026.5 611.2 L 1051.4 599.7 L 1051.4 580.5 L 1025.6 566.1 L 964.2 560.4 L 858.8 564.2 L 825.2 580.5 L 821.4 595.8 L 848.2 607.3 L 832.9 636.1 L 842.5 685.9 L 865.5 724.3 L 915.3 776.0 L 919.2 793.3 L 852.1 871.9 L 836.7 914.1 L 838.7 946.6 L 852.1 971.6 L 830.0 976.4 L 814.7 993.6 L 665.2 993.6 L 490.7 1033.9 L 452.4 1031.9 L 343.1 997.4 L 293.3 997.4 L 185.9 1018.5 L 115.0 1020.4 L 2.9 994.6 L 53.7 1014.7 L 122.7 1024.3 L 184.0 1022.4 L 327.8 999.4 L 371.9 1007.0 L 444.7 1033.9 L 484.0 1036.7",
      "M 996.8 980.2 L 897.1 980.2 L 875.1 973.5 L 904.8 953.4 L 932.6 917.9 L 936.4 793.3 L 928.8 774.1 L 854.0 689.8 L 850.2 664.9 L 868.4 650.5 L 960.4 635.1 L 1008.3 637.1 L 1030.4 645.7 L 1017.9 654.3 L 981.5 642.8 L 927.8 642.8 L 863.6 661.0 L 868.4 669.6 L 883.7 673.5 L 941.2 673.5 L 1010.2 660.1 L 1019.8 660.1 L 1024.6 668.7 L 1007.3 708.9 L 947.9 774.1 L 938.3 812.5 L 940.3 891.1 L 949.8 916.0 L 975.7 941.9 L 1016.9 960.1 L 994.9 964.9 L 994.9 976.4 L 1016.9 971.6 L 996.8 980.2",
      "M 1021.7 966.8 L 1016.0 953.4 L 973.8 936.1 L 946.0 900.6 L 942.2 806.7 L 957.5 766.5 L 1016.9 701.3 L 1026.5 680.2 L 1022.7 657.2 L 1034.2 645.7 L 1006.4 633.2 L 906.7 637.1 L 856.9 652.4 L 846.3 664.9 L 845.4 681.2 L 836.7 634.2 L 855.0 608.3 L 935.5 602.6 L 1019.8 612.1 L 1030.4 624.6 L 1036.1 655.3 L 1028.4 685.9 L 1009.3 718.5 L 955.6 778.0 L 959.4 806.7 L 1028.4 896.8 L 1034.2 939.0 L 1021.7 966.8",
      "M 1027.5 608.3 L 987.2 596.8 L 910.5 594.9 L 847.3 604.5 L 828.1 598.7 L 825.2 588.2 L 835.8 575.7 L 868.4 566.1 L 1004.5 566.1 L 1039.0 573.8 L 1047.6 582.4 L 1049.5 595.8 L 1027.5 608.3",
      "M 1004.5 1016.6 L 872.2 1016.6 L 839.6 1010.9 L 831.0 1000.3 L 841.5 993.6 L 1049.5 998.4 L 1037.1 1010.9 L 1004.5 1016.6",
      "M 920.1 671.6 L 867.4 662.9 L 924.0 646.6 L 983.4 646.6 L 1013.1 655.3 L 920.1 671.6",
      "M 1010.2 608.3 L 949.8 601.6 L 989.1 600.6 L 1010.2 608.3",
      "M 889.5 604.5 L 865.5 603.5 L 915.3 599.7 L 889.5 604.5",
      "M 998.7 974.4 L 996.8 968.7 L 1007.3 969.6 L 998.7 974.4",
      "M 856.9 704.2 L 853.0 694.6 L 856.9 704.2",
      "M 849.2 690.7 L 847.3 681.2 L 849.2 690.7",
      "M 851.1 694.6 L 851.1 694.6"
    ],
    projects: [
      "M 0.0 912.5 L 26.7 922.5 L 56.7 920.8 L 73.3 912.5 L 88.3 922.5 L 106.7 922.5 L 141.7 885.8 L 153.3 884.2 L 193.3 910.8 L 245.0 902.5 L 254.2 923.3 L 236.7 927.5 L 236.7 940.8 L 246.7 940.8 L 256.7 929.2 L 295.0 939.2 L 320.0 939.2 L 338.3 930.8 L 367.5 906.7 L 377.5 881.7 L 379.2 655.0 L 382.5 631.7 L 395.0 624.2 L 776.7 625.8 L 785.8 643.3 L 789.2 876.7 L 785.8 901.7 L 776.7 905.8 L 760.8 888.3 L 774.2 871.7 L 775.8 835.0 L 775.8 665.0 L 763.3 640.8 L 406.7 635.8 L 389.2 646.7 L 384.2 676.7 L 385.8 838.3 L 393.3 877.5 L 405.0 882.5 L 750.8 885.0 L 418.3 890.8 L 394.2 898.3 L 398.3 910.8 L 775.0 909.2 L 779.2 915.0 L 405.0 917.5 L 376.7 925.8 L 378.3 937.5 L 776.7 940.8 L 785.8 935.0 L 786.7 922.5 L 812.5 943.3 L 820.8 961.7 L 340.0 967.5 L 340.8 956.7 L 365.8 920.0 L 361.7 915.8 L 332.5 958.3 L 341.7 975.8 L 803.3 977.5 L 853.3 962.5 L 923.3 902.5 L 935.0 902.5 L 944.2 911.7 L 935.8 925.0 L 940.0 934.2 L 953.3 909.2 L 985.0 905.8 L 1045.0 927.5 L 1086.7 925.8 L 1103.3 939.2 L 1125.0 940.8 L 1142.5 928.3 L 1160.0 889.2 L 1170.0 884.2 L 1198.3 887.5",
      "M 1198.3 884.2 L 1171.7 880.8 L 1160.0 885.8 L 1139.2 928.3 L 1121.7 939.2 L 1090.8 926.7 L 1104.2 908.3 L 1095.0 894.2 L 1085.8 900.0 L 1084.2 921.7 L 1076.7 925.8 L 1050.0 925.8 L 981.7 902.5 L 963.3 902.5 L 946.7 910.8 L 940.0 902.5 L 925.0 899.2 L 853.3 959.2 L 811.7 974.2 L 340.0 972.5 L 776.7 969.2 L 818.3 967.5 L 824.2 961.7 L 817.5 945.0 L 779.2 910.0 L 790.8 895.0 L 789.2 660.0 L 787.5 636.7 L 780.0 624.2 L 400.0 620.8 L 383.3 625.8 L 377.5 636.7 L 374.2 883.3 L 369.2 900.0 L 338.3 927.5 L 311.7 937.5 L 285.0 934.2 L 258.3 925.8 L 255.8 910.0 L 245.0 899.2 L 190.0 907.5 L 153.3 880.8 L 136.7 885.8 L 101.7 920.8 L 79.2 911.7 L 90.8 898.3 L 88.3 884.2 L 75.8 890.0 L 73.3 910.8 L 51.7 919.2 L 25.0 919.2 L 0.0 909.2",
      "M 761.7 884.2 L 731.7 877.5 L 398.3 877.5 L 389.2 851.7 L 390.8 648.3 L 403.3 639.2 L 456.7 637.5 L 763.3 644.2 L 770.8 655.0 L 774.2 686.7 L 772.5 861.7 L 761.7 884.2",
      "M 770.0 939.2 L 395.0 939.2 L 377.5 930.0 L 398.3 920.8 L 780.0 919.2 L 784.2 931.7 L 770.0 939.2",
      "M 465.0 912.5 L 418.3 912.5 L 394.2 903.3 L 413.3 894.2 L 755.0 887.5 L 774.2 906.7 L 465.0 912.5",
      "M 1088.3 920.8 L 1087.5 901.7 L 1096.7 897.5 L 1100.8 910.0 L 1088.3 920.8",
      "M 348.3 940.8 L 361.7 919.2 L 348.3 940.8",
      "M 78.3 907.5 L 77.5 891.7 L 86.7 885.8 L 89.2 895.0 L 78.3 907.5",
      "M 243.3 939.2 L 235.8 933.3 L 253.3 927.5 L 243.3 939.2",
      "M 941.7 930.8 L 939.2 923.3 L 945.0 917.5 L 941.7 930.8",
      "M 345.0 945.8 L 346.7 940.8 L 345.0 945.8",
      "M 341.7 950.8 L 343.3 945.8 L 341.7 950.8",
      "M 336.7 959.2 L 338.3 954.2 L 336.7 959.2",
      "M 340.0 954.2 L 340.0 954.2"
    ],
    technology: [
      "M 0.0 1010.6 L 43.8 1014.4 L 75.0 1003.1 L 145.0 933.1 L 183.8 910.6 L 223.8 901.9 L 313.8 909.4 L 335.0 900.6 L 360.0 900.6 L 387.5 889.4 L 473.8 838.1 L 523.8 825.6 L 568.8 828.1 L 577.5 835.6 L 592.5 831.9 L 576.9 841.2 L 578.8 849.4 L 610.6 840.0 L 586.2 850.6 L 580.6 858.8 L 591.2 860.6 L 608.8 851.9 L 618.1 853.8 L 595.0 864.4 L 589.4 875.0 L 595.0 878.1 L 624.4 867.5 L 595.6 885.0 L 602.5 893.1 L 633.1 883.8 L 608.8 894.4 L 604.4 898.8 L 608.8 906.9 L 643.1 895.0 L 632.5 905.6 L 617.5 910.6 L 614.4 918.8 L 635.6 963.8 L 650.0 966.9 L 689.4 948.8 L 683.8 910.6 L 701.2 941.9 L 704.4 933.8 L 694.4 913.8 L 697.5 906.9 L 710.6 927.5 L 719.4 931.2 L 719.4 921.2 L 710.6 905.0 L 712.5 896.9 L 719.4 902.5 L 725.6 922.5 L 732.5 926.9 L 736.9 920.0 L 725.6 896.2 L 727.5 889.4 L 731.9 890.0 L 740.6 915.0 L 748.8 919.4 L 738.8 884.4 L 760.0 914.4 L 753.8 879.4 L 760.6 883.8 L 769.4 905.0 L 776.2 908.1 L 779.4 900.0 L 768.1 876.2 L 771.2 870.6 L 783.1 893.8 L 791.2 899.4 L 794.4 897.5 L 783.8 864.4 L 789.4 866.2 L 806.2 891.9 L 809.4 883.8 L 795.6 866.2 L 798.8 858.1 L 806.9 862.5 L 814.4 882.5 L 820.0 884.4 L 821.9 878.8 L 811.2 851.9 L 827.5 876.9 L 866.9 857.5 L 869.4 841.2 L 850.6 803.8 L 842.5 800.6 L 820.6 807.5 L 823.8 799.4 L 844.4 787.5 L 838.8 784.4 L 821.2 791.9 L 815.6 788.8 L 841.9 773.8 L 809.4 773.8 L 833.1 758.8 L 828.8 754.4 L 808.8 761.9 L 801.9 758.8 L 822.5 746.9 L 822.5 738.1 L 794.4 745.0 L 801.2 736.9 L 818.1 730.0 L 815.0 724.4 L 785.6 727.5 L 790.0 721.9 L 807.5 716.9 L 807.5 709.4 L 790.0 711.9 L 776.2 720.6 L 764.4 693.8 L 755.0 685.6 L 746.2 685.6 L 602.5 745.6 L 593.1 762.5 L 624.4 835.0 L 602.5 831.9 L 609.4 826.2 L 606.2 821.9 L 582.5 829.4 L 575.6 826.2 L 598.8 818.1 L 601.9 811.2 L 596.2 808.1 L 568.1 812.5 L 591.2 803.1 L 590.0 794.4 L 559.4 802.5 L 582.5 791.9 L 588.1 780.0 L 554.4 785.0 L 540.6 735.0 L 546.2 723.1 L 583.8 708.1 L 593.1 728.8 L 602.5 734.4 L 593.1 701.2 L 600.6 703.8 L 605.6 718.8 L 616.2 726.9 L 606.9 695.0 L 615.6 697.5 L 621.9 715.0 L 628.8 720.6 L 631.9 715.0 L 619.4 687.5 L 626.2 686.9 L 633.1 702.5 L 645.0 713.1 L 645.6 703.8 L 635.6 680.0 L 641.9 682.5 L 657.5 706.9 L 660.6 697.5 L 652.5 674.4 L 673.8 701.9 L 675.6 691.2 L 666.2 665.6 L 680.6 695.0 L 688.8 698.1 L 691.9 692.5 L 676.9 660.0 L 685.6 660.0 L 695.6 687.5 L 701.2 689.4 L 704.4 682.5 L 691.9 655.0 L 698.1 656.2 L 712.5 683.1 L 715.6 672.5 L 706.9 658.8 L 707.5 649.4 L 719.4 675.0 L 725.0 678.1 L 728.1 672.5 L 719.4 640.0 L 757.5 624.4 L 774.4 628.8 L 794.4 667.5 L 791.2 675.6 L 768.1 687.5 L 772.5 693.1 L 790.0 681.9 L 796.9 683.8 L 795.0 689.4 L 773.1 700.0 L 775.0 708.1 L 798.8 699.4 L 831.2 698.1 L 888.8 710.6 L 917.5 710.6 L 942.5 700.6 L 980.6 646.2 L 1010.0 626.9 L 1056.2 618.1 L 1138.8 616.9 L 1198.8 596.9",
      "M 647.5 965.6 L 636.9 962.5 L 616.9 921.2 L 617.5 913.1 L 636.2 905.6 L 645.6 895.0 L 641.2 891.9 L 608.8 904.4 L 610.0 895.6 L 635.6 883.8 L 626.2 880.6 L 600.0 890.6 L 601.2 880.6 L 620.0 874.4 L 626.9 866.2 L 616.2 865.6 L 592.5 875.6 L 595.0 866.9 L 620.6 853.8 L 606.2 850.6 L 585.0 859.4 L 587.5 851.9 L 611.2 844.4 L 613.1 838.8 L 606.2 836.9 L 578.8 846.9 L 581.2 840.6 L 597.5 833.1 L 623.8 836.9 L 650.6 893.8 L 660.0 901.9 L 673.8 901.9 L 808.8 848.1 L 818.1 833.8 L 816.9 821.2 L 775.0 725.6 L 765.6 763.8 L 739.4 802.5 L 710.0 824.4 L 670.0 836.9 L 625.6 835.0 L 598.1 772.5 L 596.9 753.8 L 608.8 744.4 L 750.0 686.9 L 761.9 693.8 L 775.0 723.1 L 792.5 713.1 L 807.5 711.9 L 786.2 721.9 L 784.4 728.8 L 788.8 731.9 L 815.6 727.5 L 791.9 743.8 L 796.2 748.1 L 813.8 739.4 L 823.1 741.2 L 803.8 751.9 L 800.6 760.0 L 811.2 763.1 L 830.0 756.9 L 828.8 763.1 L 812.5 768.1 L 808.1 775.0 L 817.5 778.1 L 832.5 771.9 L 839.4 773.8 L 816.2 784.4 L 817.5 794.4 L 841.9 788.8 L 822.5 798.1 L 818.1 807.5 L 822.5 810.6 L 847.5 803.1 L 865.6 836.2 L 866.9 853.8 L 848.8 866.9 L 827.5 874.4 L 816.9 853.8 L 808.8 850.6 L 818.8 881.9 L 806.9 858.8 L 796.2 856.9 L 793.1 865.0 L 806.9 882.5 L 806.2 889.4 L 790.6 865.0 L 782.5 863.1 L 780.6 870.0 L 791.2 896.9 L 785.6 893.8 L 775.6 871.2 L 770.0 869.4 L 766.9 878.8 L 776.2 905.6 L 770.6 903.8 L 760.6 880.0 L 752.5 878.1 L 750.6 887.5 L 758.8 911.9 L 745.6 886.2 L 736.2 883.1 L 746.9 908.8 L 746.2 918.1 L 735.6 892.5 L 726.2 886.9 L 723.1 893.8 L 734.4 922.5 L 728.1 922.5 L 721.9 902.5 L 711.2 895.6 L 708.1 903.8 L 718.1 928.8 L 713.1 927.5 L 704.4 908.8 L 696.2 905.6 L 693.1 916.2 L 701.9 931.2 L 700.0 939.4 L 689.4 913.8 L 682.5 909.4 L 686.9 948.8 L 647.5 965.6",
      "M 1198.8 594.4 L 1148.8 613.1 L 1046.2 616.9 L 1005.0 626.9 L 976.9 647.5 L 941.2 699.4 L 911.2 709.4 L 826.2 695.6 L 800.0 696.9 L 777.5 706.9 L 774.4 701.2 L 780.0 695.6 L 799.4 687.5 L 796.2 680.6 L 786.9 680.0 L 794.4 675.0 L 795.6 665.0 L 779.4 632.5 L 766.2 621.9 L 735.0 629.4 L 716.9 640.0 L 725.0 675.6 L 708.8 648.1 L 703.1 653.8 L 713.1 672.5 L 712.5 680.6 L 699.4 655.0 L 690.6 652.5 L 701.9 681.2 L 700.0 688.1 L 686.9 658.8 L 676.9 656.2 L 675.6 665.0 L 689.4 691.2 L 687.5 696.9 L 665.0 663.1 L 672.5 699.4 L 651.2 671.9 L 657.5 704.4 L 644.4 682.5 L 635.0 676.9 L 643.8 710.6 L 622.5 683.1 L 618.1 692.5 L 628.8 718.1 L 615.6 693.8 L 607.5 691.9 L 604.4 697.5 L 615.0 724.4 L 597.5 698.1 L 590.6 701.2 L 601.2 731.9 L 594.4 727.5 L 585.0 706.9 L 561.2 713.1 L 539.4 727.5 L 553.1 786.2 L 586.9 781.2 L 581.2 790.6 L 562.5 795.6 L 558.1 805.0 L 590.0 796.9 L 590.0 801.9 L 564.4 813.8 L 598.8 810.6 L 597.5 816.9 L 572.5 826.9 L 516.2 824.4 L 477.5 834.4 L 388.8 886.9 L 356.2 899.4 L 339.4 897.5 L 354.4 880.0 L 358.1 851.2 L 347.5 840.6 L 330.0 840.6 L 316.9 851.2 L 310.6 866.2 L 314.4 885.0 L 330.0 901.9 L 306.2 908.1 L 246.2 900.6 L 192.5 905.6 L 143.8 931.9 L 73.8 1001.9 L 37.5 1013.1 L 0.0 1009.4",
      "M 671.2 900.6 L 660.0 899.4 L 651.9 892.5 L 628.1 838.8 L 681.2 836.9 L 723.8 818.1 L 759.4 780.0 L 776.2 731.9 L 811.9 812.5 L 815.6 823.8 L 813.1 841.2 L 775.0 861.9 L 671.2 900.6",
      "M 336.2 898.1 L 316.9 886.2 L 313.1 863.8 L 325.0 845.6 L 345.0 841.9 L 356.9 852.5 L 356.9 867.5 L 348.1 886.2 L 336.2 898.1",
      "M 773.8 690.6 L 769.4 688.8 L 786.9 681.2 L 773.8 690.6",
      "M 596.2 831.9 L 589.4 828.8 L 606.9 825.0 L 596.2 831.9",
      "M 580.0 833.1 L 574.4 830.0 L 580.0 833.1"
    ],
    contact: [
      "M 1197.1 945.7 L 1127.9 951.4 L 1076.0 939.9 L 911.5 841.8 L 836.5 821.6 L 814.9 857.7 L 793.3 1003.4 L 692.3 902.4 L 688.0 915.4 L 702.4 944.2 L 761.5 997.6 L 660.6 974.5 L 571.2 968.8 L 558.2 961.5 L 630.3 895.2 L 591.3 916.8 L 553.8 957.2 L 543.8 950.0 L 565.4 792.8 L 651.9 908.2 L 826.4 820.2 L 816.3 804.3 L 790.4 795.7 L 579.8 772.6 L 549.5 779.8 L 523.6 886.5 L 493.3 928.4 L 452.9 922.6 L 314.4 853.4 L 216.3 824.5 L 115.4 821.6 L 0.0 853.4",
      "M 0.0 856.2 L 98.1 827.4 L 213.5 827.4 L 305.8 853.4 L 458.7 928.4 L 496.2 931.2 L 526.4 889.4 L 549.5 785.6 L 576.9 775.5 L 787.5 798.6 L 823.6 817.3 L 654.8 905.3 L 565.4 789.9 L 540.9 952.9 L 568.3 971.6 L 637.5 974.5 L 764.4 1000.5 L 708.2 947.1 L 692.3 905.3 L 796.2 1006.2 L 817.8 860.6 L 839.4 824.5 L 949.0 864.9 L 1073.1 942.8 L 1122.1 954.3 L 1197.1 948.6",
      "M 568.3 951.4 L 585.6 925.5 L 624.5 901.0 L 568.3 951.4",
      "M 562.5 954.3 L 562.5 954.3"
    ]
  }

  return lineData[sectionId] || []
}


}
